<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
<!--   <ItemGroup>
    <NativeReference Include="$(MSBuildThisFileDirectory)osx-x64\VLCKit.framework">
      <Kind>Framework</Kind>
      <SmartLink>False</SmartLink>
    </NativeReference>
  </ItemGroup> -->

<!-- Works, but conditional targetframeworks does not -->
  <Target Name="CopyMacOutput" BeforeTargets="BeforeBuild">
    <ItemGroup>
      <Content Include="$(MSBuildThisFileDirectory)osx-x64\VLCKit.framework\libvlc.dylib">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
    </ItemGroup>
  </Target>

<!-- Does not get called (with or without condition). Looks like stuff needs to be in a Target, but Choose/When does not work with Targets -->
<!-- 
  <Choose>
    <When Condition=" '$(TargetFramework)' == 'net47' ">
      <ItemGroup>
        <Content Include="$(MSBuildThisFileDirectory)osx-x64\VLCKit.framework\libvlc.dylib">
          <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
      </ItemGroup>
    </When>
  </Choose> -->
</Project>